---
layout: default
title: How To Create XML In ColdFusion
category: coldfusion
---

<h2>{{ page.title }}</h2>

{% highlight cfm %}
<ul>
	<li>
		PAGING.cfm
{% highlight cfm %}
<!--- 记录个数(必须的) --->
<cfif not isDefined("Attributes.iRowsCount")>
	没有定义记录个数<cfabort>
<cfelse>
	<cfset iRowsCount = Attributes.iRowsCount>
</cfif>
<!--- 当前页码 --->
<cfparam name="Attributes.iCurrPageNo" default="1" type="numeric">
<cfset iCurrPageNo = Attributes.iCurrPageNo>
<!--- 每页显示多少条记录 --->
<cfparam name="Attributes.iPerPageRows" default="10" type="numeric">
<cfset iPerPageRows = Attributes.iPerPageRows>
<!--- 共多少页(页个数) --->
<cfset iPagesCount =  iRowsCount\iPerPageRows>
<cfif iRowsCount Mod iPerPageRows gt 0>
	<cfset iPagesCount = iPagesCount + 1>
</cfif>
<!--- 开始行 --->
<cfparam name="Attributes.iStartRow" default="1" type="numeric">
<cfset iStartRow = (iCurrPageNo-1) * iPerPageRows + 1>
<!--- 结束行 --->
<cfparam name="Attributes.iEndRow" default="10" type="numeric">
<cfset iEndRow = (iCurrPageNo * iPerPageRows)>

<!--- 显示页码个数 --->
<cfparam name="Attributes.iPageNoNum" default="6" type="numeric">
<cfset iPageNoNum = Attributes.iPageNoNum>
<cfset iStartPageNo = 1>
<cfset iEndPageNo = iPageNoNum>
{% endhighlight %}
	</li>
	<li>
		Invoke demo
{% highlight cfm %}
<cfquery name="rs" datasource="#sSysDsnName#">
	select * from cbclcrk
</cfquery>
<cfif rs.recordCount gt 0>
	<cfset iRowsCount = rs.recordCount>
<cfelse>
	暂无数据
</cfif>
{% endhighlight %}
	</li>
</ul>
{% endhighlight %}

<p>{{ page.date | date_to_string }}</p>